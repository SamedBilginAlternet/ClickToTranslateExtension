<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Smart Copy Helper</title>
    <style>
      :root{
        --bg:#fafafa; --card:#fff; --muted:#6b7280; --accent:#2563eb;
      }
      html,body{margin:0;padding:12px;width:360px;font-family:Inter,Segoe UI,Arial,sans-serif;background:var(--bg);color:#111}
      h3{margin:0 0 10px;font-size:15px}
      .card{background:var(--card);border-radius:8px;padding:10px;box-shadow:0 6px 18px rgba(16,24,40,0.06);margin-bottom:10px}
      .row{display:flex;gap:8px;align-items:center}
      .modes label{display:inline-flex;align-items:center;gap:8px;margin-right:8px}
      .hint{font-size:12px;color:var(--muted);margin-top:6px}
      .lang-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:6px;margin-top:8px}
      .lang-btn{display:flex;align-items:center;gap:8px;padding:6px;border-radius:6px;border:1px solid rgba(0,0,0,0.06);background:transparent;cursor:pointer;font-size:13px}
      .lang-btn.selected{border-color:var(--accent);box-shadow:0 4px 12px rgba(37,99,235,0.08);background:linear-gradient(180deg,rgba(37,99,235,0.04),transparent)}
      .lang-flag-img{width:20px;height:14px;object-fit:cover;border-radius:2px}
      .lang-flag-emoji{font-size:16px;display:none}
      #targetCustom{width:100%;padding:6px;margin-top:6px;border-radius:6px;border:1px solid #e6e6e6}
      #saveTarget{margin-top:8px;padding:8px 10px;background:var(--accent);color:#fff;border:none;border-radius:6px;cursor:pointer}
      #status{font-size:12px;color:var(--muted);margin-top:8px}
      #history{margin-top:8px;max-height:140px;overflow:auto}
      #history button{display:block;width:100%;text-align:left;padding:8px;border:1px solid #eee;border-radius:6px;margin-top:6px;background:#fff;cursor:pointer}
    </style>
  </head>
  <body>
    <div class="card">
      <h3>Copy mode</h3>
      <div class="modes">
        <label><input type="radio" name="mode" value="word"> Word</label>
        <label><input type="radio" name="mode" value="sentence"> Sentence</label>
        <label><input type="radio" name="mode" value="paragraph"> Paragraph</label>
      </div>
      <div class="hint">Alt+Click on a page to copy in the chosen mode and show translation.</div>
    </div>

    <div class="card">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <strong>Target language</strong>
        <small style="color:var(--muted);font-size:12px">Click to select</small>
      </div>

      <div class="lang-grid" id="langGrid"></div>

      <input id="targetCustom" placeholder="Or enter ISO code (eg: tr, es, fr, de)" />
      <button id="saveTarget">Save</button>
      <div id="status"></div>
    </div>

    <div class="card">
      <strong>History</strong>
      <div id="history"></div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
